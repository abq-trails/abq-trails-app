package edu.cnm.deepdive.abqtrailsclientside.model.database;

import android.content.Context;
import android.os.AsyncTask;
import androidx.annotation.NonNull;
import androidx.room.Database;
import androidx.room.Room;
import androidx.room.RoomDatabase;
import androidx.sqlite.db.SupportSQLiteDatabase;
import edu.cnm.deepdive.abqtrailsclientside.model.dao.TrailDao;
import edu.cnm.deepdive.abqtrailsclientside.model.entity.Trail;
import edu.cnm.deepdive.abqtrailsclientside.service.AbqTrailsService;
import io.reactivex.Observable;
import io.reactivex.schedulers.Schedulers;
import java.util.LinkedList;
import java.util.List;

@Database(entities = Trail.class, version = 1, exportSchema = true)
public abstract class TrailsDatabase extends RoomDatabase {

  private static TrailsDatabase INSTANCE;

  public static TrailsDatabase getInstance(Context context) {
    if (INSTANCE == null) {
      INSTANCE = Room.databaseBuilder(context.getApplicationContext(), TrailsDatabase.class,
          "trails_room").fallbackToDestructiveMigration().addCallback(new Callback() {
        @Override
        public void onOpen(@NonNull SupportSQLiteDatabase db) {
          super.onCreate(db);
          new PopulateDbTask(INSTANCE).execute();
//          INSTANCE.getOnlineDb();
        }
      }).build();
    }
    return INSTANCE;
  }

  public abstract TrailDao trailDao();

  private void getOnlineDb() {

    TrailDao dao = trailDao();
     AbqTrailsService service = AbqTrailsService.getInstance();
     service.listTrails()
         .subscribeOn(Schedulers.io())
         .subscribe((trails) -> {
           for (Trail trail : trails) {
             long id = dao.insert(trail);
             if (id < 0) {
               Trail existing = dao.findByCabqIdSynchronous(trail.getCabqId());
               existing.setCoordinates(trail.getCoordinates());
               existing.setRating(trail.getRating());
               existing.setHorse(trail.isHorse());
               existing.setBike(trail.isBike());
               existing.setName(trail.getName());
               existing.setLength(trail.getLength());
               dao.update(existing);
             }
           }
         });
  }

  private static class PopulateDbTask extends AsyncTask<Void, Void, Void> {

    private final TrailsDatabase db;

    PopulateDbTask(TrailsDatabase db) {
      this.db = db;
    }

    //TODO Replace preload with trail data pulled from server.
    @Override
    protected Void doInBackground(Void... voids) {
      Trail trail1 = new Trail();
      trail1.setCabqId(0);
      trail1.setName("Test Entry");
      trail1.setLength(5.2);
      trail1.setCoordinates(
          "{\"type\": \"LineString\", \"coordinates\": [[-106.68255085730463, 35.09057659430756, 0], [-106.68254609334836, 35.090592870276055, 0], [-106.68253963953478, 35.09061491960025, 0], [-106.6825280397764, 35.090654549910916, 0], [-106.6825498458199, 35.090701692458474, 0], [-106.6825682315558, 35.09074144058728, 0], [-106.6825727301061, 35.090742995370384, 0], [-106.68264099389322, 35.090766588583826, 0], [-106.68267828557065, 35.09077947724759, 0], [-106.68268889463758, 35.090789343780465, 0], [-106.68271268514596, 35.090811469166724, 0], [-106.68274376822, 35.09084037667917, 0], [-106.68280340935304, 35.090890243285706, 0], [-106.6828459811938, 35.090924877550464, 0], [-106.68285206949842, 35.09092624710097, 0], [-106.68288659937176, 35.09093401451208, 0], [-106.68295292690604, 35.090948934697956, 0], [-106.68296866666832, 35.09095550034519, 0], [-106.682975833335, 35.090962833678546, 0], [-106.68298633333502, 35.0909745003452, 0], [-106.68299566666832, 35.090986833678535, 0], [-106.68300600000168, 35.09099916701189, 0], [-106.68301716666836, 35.09101050034518, 0], [-106.68302833333502, 35.091023833678456, 0], [-106.68303900000168, 35.09103550034519, 0], [-106.68304966666834, 35.09104616701183, 0], [-106.68306083333502, 35.09105800034518, 0], [-106.68307283333496, 35.09106966701186, 0], [-106.68308466666836, 35.09108183367855, 0], [-106.68309700000168, 35.091093167011856, 0], [-106.683110833335, 35.09110350034522, 0], [-106.683124333335, 35.09111383367852, 0], [-106.68313966666832, 35.09112450034524, 0], [-106.68315600000165, 35.091134667011836, 0], [-106.68317183333498, 35.091144333678564, 0], [-106.6831871666683, 35.09115416701189, 0], [-106.683203833335, 35.091163500345225, 0], [-106.683222333335, 35.09117483367858, 0], [-106.68324133333498, 35.091188333678524, 0], [-106.68326566666832, 35.09120566701186, 0], [-106.68329666666834, 35.091220500345216, 0], [-106.68329900000168, 35.091219833678565, 0], [-106.6833130000017, 35.09122833367858, 0], [-106.68332950000168, 35.09123250034519, 0], [-106.68334716666834, 35.09123700034523, 0], [-106.68336450000167, 35.09124183367853, 0], [-106.68338166666832, 35.0912456670119, 0], [-106.68339666666834, 35.09125150034522, 0], [-106.68341166666832, 35.09126066701189, 0], [-106.68342450000168, 35.09126933367857, 0], [-106.68343700000162, 35.09127750034521, 0], [-106.68344866666833, 35.0912858336785, 0], [-106.68346066666832, 35.0912950003452, 0], [-106.68347250000166, 35.09130466701189, 0], [-106.68348500000164, 35.091315333678544, 0], [-106.683497833335, 35.09132650034519, 0], [-106.6835096666683, 35.09133733367856, 0], [-106.683523333335, 35.09134750034526, 0], [-106.68353666666836, 35.09135633367857, 0], [-106.68355266666836, 35.091364500345236, 0], [-106.68356616666836, 35.09137416701186, 0], [-106.68357850000164, 35.09138566701192, 0], [-106.68358950000166, 35.09139716701193, 0], [-106.68359566666835, 35.09141033367857, 0], [-106.683599833335, 35.091424000345256, 0], [-106.68360550000168, 35.09143800034523, 0], [-106.68361450000164, 35.091451667011874, 0], [-106.68362616666832, 35.091463333678554, 0], [-106.68363550000169, 35.09147550034523, 0], [-106.68364833333496, 35.0914851670119, 0], [-106.68366450000168, 35.091491833678575, 0], [-106.68368316666836, 35.09149650034526, 0], [-106.68369783333505, 35.0915043336786, 0], [-106.68371450000168, 35.09151266701195, 0], [-106.6837470000017, 35.09154883367857, 0], [-106.683754833335, 35.09156200034525, 0], [-106.68376566666832, 35.09157383367859, 0], [-106.68377883333498, 35.09158300034525, 0], [-106.68379266666835, 35.09159116701194, 0], [-106.68380233333502, 35.09160000034525, 0], [-106.68381166666836, 35.091612000345236, 0], [-106.683820333335, 35.09162483367859, 0], [-106.68382916666836, 35.091638333678574, 0], [-106.68383900000164, 35.09165000034526, 0], [-106.68385266666836, 35.09166133367855, 0], [-106.68386850000164, 35.09167333367861, 0], [-106.68388366666836, 35.091685167011896, 0], [-106.68390033333502, 35.09169483367855, 0], [-106.683916333335, 35.091705000345264, 0], [-106.68393683333495, 35.091718833678634, 0], [-106.683970333335, 35.09172800034531, 0], [-106.684004333335, 35.09173450034526, 0], [-106.6840386666684, 35.091743167011934, 0], [-106.68403900000168, 35.09174333367858, 0], [-106.68403966666835, 35.091744500345264, 0], [-106.68404900000164, 35.09174516701192, 0], [-106.68406116666831, 35.09175150034526, 0], [-106.68407500000168, 35.091759500345276, 0], [-106.68409550000167, 35.09177183367856, 0], [-106.68413083333505, 35.091786333678634, 0], [-106.684140833335, 35.091797667011896, 0], [-106.684149833335, 35.091809333678604, 0], [-106.68421466666838, 35.09184550034528, 0], [-106.68422466666831, 35.09185533367861, 0], [-106.684235833335, 35.09186766701195, 0], [-106.68429533333506, 35.09190916701194, 0], [-106.68431216666836, 35.091919500345234, 0], [-106.68432883333504, 35.09192850034529, 0], [-106.68439200000172, 35.091974500345295, 0], [-106.68440066666832, 35.09198616701196, 0], [-106.6844190000017, 35.09198800034529, 0], [-106.6844451666683, 35.09199250034529, 0], [-106.68447000000168, 35.09201033367856, 0], [-106.68448533333503, 35.092016000345325, 0], [-106.684518333335, 35.092026000345314, 0], [-106.68454833333496, 35.09202733367865, 0], [-106.68455333333506, 35.09202983367864, 0], [-106.68460166666834, 35.0920620003453, 0], [-106.68464233333502, 35.0920928336786, 0], [-106.68468900000168, 35.092105833678595, 0], [-106.68469516666836, 35.092109833678634, 0], [-106.684712833335, 35.09211850034532, 0], [-106.68473850000169, 35.09213433367863, 0], [-106.68475366666834, 35.092141833678646, 0], [-106.68476933333504, 35.09215083367866, 0], [-106.68480966666836, 35.09218133367864, 0], [-106.684826333335, 35.092189833678646, 0], [-106.68484300000168, 35.092197167011975, 0], [-106.6848605000017, 35.09220150034529, 0], [-106.68487866666835, 35.09220850034532, 0], [-106.68489366666834, 35.09220866701203, 0], [-106.68490766666837, 35.09221150034527, 0], [-106.68492916666838, 35.092214167012, 0], [-106.68495600000166, 35.09221283367863, 0], [-106.68496933333503, 35.092214000345315, 0], [-106.684987833335, 35.09221616701197, 0], [-106.685012333335, 35.09221783367866, 0], [-106.68502883333504, 35.092225000345294, 0], [-106.68504000000168, 35.09223533367864, 0], [-106.68506350000168, 35.09224983367865, 0], [-106.68508266666838, 35.09224983367862, 0], [-106.68510083333504, 35.09225316701196, 0], [-106.68511366666836, 35.092259833678646, 0], [-106.68513433333504, 35.09226100034531, 0], [-106.68517700000169, 35.09226966701195, 0], [-106.685191833335, 35.09226883367862, 0], [-106.68521100000169, 35.09226966701199, 0], [-106.68523033333504, 35.09227016701203, 0], [-106.685249833335, 35.09226950034534, 0], [-106.685265833335, 35.092271667011964, 0], [-106.68527850000169, 35.09227533367868, 0], [-106.68529616666834, 35.09227750034529, 0], [-106.68531450000168, 35.09227916701204, 0], [-106.68533200000164, 35.09227983367865, 0], [-106.68535066666831, 35.09228233367866, 0], [-106.68536866666835, 35.092283333678594, 0], [-106.685456833335, 35.09228433367864, 0], [-106.68547300000166, 35.092285500345305, 0], [-106.68548916666832, 35.09228916701202, 0], [-106.68550616666836, 35.09229583367861, 0], [-106.6855235000017, 35.09230116701199, 0], [-106.68554266666835, 35.092304333678634, 0], [-106.68555850000163, 35.092310000345314, 0], [-106.68557183333505, 35.09231666701197, 0], [-106.685584833335, 35.09232650034531, 0], [-106.68559766666836, 35.092336333678695, 0], [-106.68560983333502, 35.09234583367863, 0], [-106.68562133333502, 35.09235583367865, 0], [-106.68563150000168, 35.09236716701203, 0], [-106.6856406666684, 35.09237950034533, 0], [-106.68565183333502, 35.09239166701201, 0], [-106.68566583333502, 35.09240200034533, 0], [-106.68567850000166, 35.092409333678724, 0], [-106.68569416666836, 35.092418500345346, 0], [-106.68571050000168, 35.09242516701197, 0], [-106.68572550000168, 35.092433000345345, 0], [-106.68574166666838, 35.092439667012, 0], [-106.68575650000167, 35.09244650034536, 0], [-106.68577150000168, 35.09245300034538, 0], [-106.68578766666832, 35.09245650034534, 0], [-106.68580500000168, 35.09245966701202, 0], [-106.68582116666836, 35.092463833678664, 0], [-106.68583666666832, 35.09246983367864, 0], [-106.6858516666683, 35.092476667011994, 0], [-106.68586816666836, 35.09248333367865, 0], [-106.68588566666836, 35.0924898336787, 0], [-106.68589966666832, 35.09249683367869, 0], [-106.68591400000167, 35.092502500345326, 0], [-106.68593033333502, 35.09250916701201, 0], [-106.68594716666836, 35.092517833678656, 0], [-106.6859615000017, 35.09252850034536, 0], [-106.685972833335, 35.09254033367867, 0], [-106.685984833335, 35.09255133367868, 0], [-106.68599966666838, 35.09255950034536, 0], [-106.68601650000171, 35.09256450034536, 0], [-106.68603500000168, 35.092565667011996, 0], [-106.686052833335, 35.09256600034536, 0], [-106.68606966666836, 35.09256550034539, 0], [-106.68608600000172, 35.09256533367869, 0], [-106.68610350000166, 35.09256750034535, 0], [-106.68612100000166, 35.09257166701201, 0], [-106.68613750000168, 35.092578000345355, 0], [-106.68615466666834, 35.09258133367869, 0], [-106.68617116666836, 35.0925828336787, 0], [-106.68618766666832, 35.092584667012055, 0], [-106.686204333335, 35.09258866701205, 0], [-106.68621966666836, 35.09259450034535, 0], [-106.686234333335, 35.092602000345366, 0], [-106.68624750000166, 35.09261016701199, 0], [-106.686260833335, 35.09261916701204, 0], [-106.68627350000168, 35.092627833678726, 0], [-106.686288333335, 35.09263583367867, 0], [-106.68630083333504, 35.09264566701205, 0], [-106.6863091666684, 35.092658167012026, 0], [-106.6863155000017, 35.09267166701204, 0], [-106.68632033333505, 35.09268616701203, 0], [-106.68632633333505, 35.092700667012025, 0], [-106.68633416666836, 35.09271450034532, 0], [-106.68634116666836, 35.09272733367866, 0], [-106.68634816666832, 35.09274033367869, 0], [-106.68635633333498, 35.092753667012, 0], [-106.68636266666836, 35.09276716701206, 0], [-106.6863706666684, 35.09278000034538, 0], [-106.68637783333504, 35.09279200034539, 0], [-106.68638700000167, 35.092803500345376, 0], [-106.68639466666836, 35.09281683367873, 0], [-106.68640350000166, 35.09283000034538, 0], [-106.68641266666836, 35.092842667012015, 0], [-106.68642166666837, 35.092855000345374, 0], [-106.68643300000168, 35.092865667012035, 0], [-106.68644350000169, 35.09287616701203, 0], [-106.68645450000167, 35.09288566701203, 0], [-106.68646500000168, 35.09289666701209, 0], [-106.68647633333502, 35.092908000345375, 0], [-106.68648700000166, 35.092920000345366, 0], [-106.6864970000017, 35.092931833678705, 0], [-106.686507833335, 35.09294466701204, 0], [-106.68651783333496, 35.092957167012, 0], [-106.68652700000166, 35.09296966701209, 0], [-106.68653633333504, 35.092981500345395, 0], [-106.68654616666836, 35.0929933336787, 0], [-106.68655516666836, 35.093005333678754, 0], [-106.68656416666836, 35.09301733367876, 0], [-106.68657283333502, 35.09303016701204, 0], [-106.68658183333504, 35.093042167012094, 0], [-106.68659016666837, 35.09305466701207, 0], [-106.686600333335, 35.093067500345406, 0], [-106.6866105000017, 35.09308016701206, 0], [-106.6866200000017, 35.09309166701208, 0], [-106.68663033333502, 35.09310433367874, 0], [-106.68664016666838, 35.093117500345365, 0], [-106.686648833335, 35.09313066701208, 0], [-106.68665833333505, 35.093143667012065, 0], [-106.68666766666831, 35.09315716701204, 0], [-106.68667866666836, 35.09317016701209, 0], [-106.68669000000166, 35.093182000345436, 0], [-106.686701333335, 35.09319416701206, 0], [-106.6867135000017, 35.09320600034543, 0], [-106.68672400000172, 35.093217333678766, 0], [-106.68673233333502, 35.093230500345406, 0], [-106.68673883333504, 35.093245000345405, 0], [-106.68674616666836, 35.09325866701207, 0], [-106.68675550000172, 35.09327116701206, 0], [-106.686764333335, 35.09328483367878, 0], [-106.68677300000168, 35.09329900034546, 0], [-106.68677983333504, 35.09331400034544, 0], [-106.68678666666833, 35.093327833678785, 0], [-106.68679566666836, 35.09334133367873, 0], [-106.68680316666835, 35.09335483367874, 0], [-106.68681083333504, 35.0933691670121, 0], [-106.68681950000168, 35.09338350034542, 0], [-106.68682666666837, 35.09339800034544, 0], [-106.6868340000017, 35.0934130003454, 0], [-106.6868430000017, 35.09342800034544, 0], [-106.68685216666832, 35.09344216701209, 0], [-106.68685916666836, 35.09345666701213, 0], [-106.68686816666836, 35.09347033367876, 0], [-106.68687650000167, 35.09348450034542, 0], [-106.68688500000172, 35.09349616701211, 0], [-106.68689350000166, 35.093510500345445, 0], [-106.6869010000017, 35.09352516701215, 0], [-106.6869091666684, 35.093539167012096, 0], [-106.68691583333502, 35.09355350034546, 0], [-106.68692316666838, 35.09356733367875, 0], [-106.68693183333504, 35.09358183367876, 0], [-106.68693916666832, 35.09359566701214, 0], [-106.68694816666832, 35.09362383367882, 0], [-106.68695633333505, 35.09363633367878, 0], [-106.68696500000168, 35.09365016701214, 0], [-106.6869740000017, 35.093663667012095, 0], [-106.68698283333502, 35.09367783367873, 0], [-106.68698683333504, 35.093692000345456, 0], [-106.68699083333505, 35.093706000345485, 0], [-106.68699583333502, 35.09372100034542, 0], [-106.68700150000171, 35.09373583367883, 0], [-106.6870075000017, 35.093749833678785, 0], [-106.687014333335, 35.09376366701214, 0], [-106.68702416666832, 35.0937773336788, 0], [-106.68703200000168, 35.0937903336788, 0], [-106.68703950000167, 35.09380350034552, 0], [-106.68704883333506, 35.09381566701212, 0], [-106.687059833335, 35.09382733367884, 0], [-106.68707083333496, 35.09384016701216, 0], [-106.687081333335, 35.09385383367878, 0], [-106.6870930000017, 35.09386400034548, 0], [-106.68710600000168, 35.09387533367881, 0], [-106.68711850000167, 35.093886667012114, 0], [-106.68712816666836, 35.093894500345485, 0], [-106.68713733333504, 35.09390816701213, 0], [-106.68714833333505, 35.0939210003455, 0], [-106.68715816666835, 35.093933833678825, 0], [-106.6871665000017, 35.093946833678814, 0], [-106.68717316666834, 35.09396050034551, 0], [-106.68717866666836, 35.09397533367882, 0], [-106.68718350000168, 35.09398866701216, 0], [-106.68718650000169, 35.09400350034551, 0], [-106.68718816666838, 35.09401850034547, 0], [-106.6871901666684, 35.09403416701215, 0], [-106.68719266666837, 35.09404883367883, 0], [-106.6871985000017, 35.09406183367882, 0], [-106.68720683333504, 35.094075167012136, 0], [-106.68721516666837, 35.094088667012144, 0], [-106.687223833335, 35.09410350034549, 0], [-106.68723000000168, 35.09411900034549, 0], [-106.6872370000017, 35.09413350034549, 0], [-106.68724416666832, 35.09414750034553, 0], [-106.68725216666834, 35.0941610003455, 0], [-106.68725983333506, 35.09417350034552, 0], [-106.68726816666836, 35.094186500345494, 0], [-106.687278333335, 35.094199000345526, 0], [-106.6872886666684, 35.094211833678884, 0], [-106.68729883333502, 35.09422533367884, 0], [-106.68730916666831, 35.09423883367885, 0], [-106.6873206666684, 35.09425250034553, 0], [-106.68733250000167, 35.09426483367883, 0], [-106.68734433333502, 35.09427816701214, 0], [-106.68735583333503, 35.0942905003455, 0], [-106.68736583333504, 35.094304667012175, 0], [-106.68737583333504, 35.09431750034555, 0], [-106.68738300000167, 35.09433150034552, 0], [-106.68738850000165, 35.094341833678854, 0], [-106.68739533333505, 35.09435633367885, 0], [-106.68740233333502, 35.09436983367887, 0], [-106.68740783333496, 35.094383833678855, 0], [-106.687414333335, 35.09439766701219, 0], [-106.68742116666836, 35.09441183367886, 0], [-106.687428333335, 35.09442566701216, 0], [-106.68743416666835, 35.09444083367887, 0], [-106.68743916666838, 35.0944561670122, 0], [-106.68744483333502, 35.09447016701218, 0], [-106.68745216666836, 35.094482833678896, 0], [-106.68746133333504, 35.094496333678876, 0], [-106.68746666666831, 35.094509833678906, 0], [-106.68747783333508, 35.094537167012206, 0], [-106.68749100000169, 35.094565333678894, 0], [-106.68749850000168, 35.094575000345564, 0], [-106.68750666666834, 35.09458750034554, 0], [-106.68751350000164, 35.09460033367887, 0], [-106.68751850000169, 35.094614833678875, 0], [-106.68752466666832, 35.09463000034551, 0], [-106.68753116666838, 35.094644500345595, 0], [-106.6875386666683, 35.094659667012216, 0], [-106.68754516666836, 35.09467600034554, 0], [-106.68754983333508, 35.09469200034553, 0], [-106.68755450000168, 35.094707667012266, 0], [-106.68755933333502, 35.09472350034554, 0], [-106.68756533333502, 35.09473966701222, 0], [-106.68757133333504, 35.09475466701228, 0], [-106.68758100000169, 35.09478466701225, 0], [-106.687586333335, 35.09479983367892, 0], [-106.68759483333506, 35.09481133367892, 0], [-106.68759283333502, 35.094828833678925, 0], [-106.68759583333502, 35.09484766701229, 0], [-106.68760766666836, 35.09485916701223, 0], [-106.68763383333504, 35.0948798336789, 0], [-106.68765666666836, 35.09490450034557, 0], [-106.68767016666835, 35.09491583367894, 0], [-106.68768400000168, 35.09492600034557, 0], [-106.68769450000168, 35.09493716701227, 0], [-106.68770616666836, 35.09494650034557, 0], [-106.68771783333506, 35.09495750034554, 0], [-106.6877275000017, 35.09497033367896, 0], [-106.68773583333508, 35.09498316701224, 0], [-106.68774283333504, 35.09499750034558, 0], [-106.68775033333506, 35.09501283367893, 0], [-106.68775916666834, 35.095027333678935, 0], [-106.6877696666684, 35.09504066701228, 0], [-106.68777733333503, 35.09505283367898, 0], [-106.68777966666836, 35.095069000345596, 0], [-106.68777400000168, 35.095080167012256, 0], [-106.68776300000168, 35.09511116701226, 0], [-106.68775833333504, 35.095128333678915, 0], [-106.68774766666836, 35.09517866701228, 0], [-106.68774500000168, 35.095192167012286, 0], [-106.68774416666834, 35.095205333678976, 0], [-106.687744833335, 35.09522283367897, 0], [-106.68774850000167, 35.095238500345566, 0], [-106.68775433333504, 35.09525533367892, 0], [-106.6877605000017, 35.0952825003456, 0], [-106.687770333335, 35.0953160003456, 0], [-106.68779083333504, 35.095350333678965, 0], [-106.687790333335, 35.09538316701233, 0], [-106.68778566666836, 35.095409833678936, 0], [-106.68778466666832, 35.09541633367895, 0], [-106.68777616666836, 35.095425667012286, 0], [-106.68777366666838, 35.09543650034565, 0], [-106.68777683333504, 35.09543650034565, 0], [-106.68777716666835, 35.09543983367897, 0], [-106.68777766666835, 35.095439333678954, 0]]}");
      trail1.setBike(true);
      trail1.setHorse(true);
      trail1.setRating(4.3);
      db.trailDao().insert(trail1);

//     AbqTrailsService service = AbqTrailsService.getInstance();
//     List<Trail> trails = service.listTrails();
//     for (Trail trail : trails) {
//      Trail newTrail = new Trail();
//      newTrail.setCabqId(trail.getCabqId());
//      newTrail.setName(trail.getName());
//      newTrail.setCoordinates(trail.getCoordinates());
//      newTrail.setBike(trail.isBike());
//      newTrail.setHorse(trail.isHorse());
//      newTrail.setRating(trail.getRating());
//      db.trailDao().insert(newTrail);
//     }

      return null;
    }
  }

}
